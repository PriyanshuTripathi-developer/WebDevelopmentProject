<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Railway Comfort & Safety System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');
        
        :root {
            /* Color Scheme */
            --primary: #6c5ce7;
            --secondary: #a29bfe;
            --accent: #fd79a8;
            --light: #f8f9fa;
            --dark: #2d3436;
            --success: #00b894;
            --warning: #fdcb6e;
            --danger: #d63031;
            --luggage-primary: #0984e3;
            --luggage-accent: #fdcb6e;
            --women-safe: #e84393;
            --women-light: #ffcce0;
            --railway-blue: #1a237e;
            --railway-red: #c62828;
            --ai-assistant: #4a148c;
            --premium-gold: #ffd700;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            color: var(--light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            position: relative;
            overflow-x: hidden;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .container {
            background-color: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            width: 100%;
            max-width: 800px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            animation: fadeIn 1s ease;
            margin-bottom: 2rem;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h1 {
            text-align: center;
            margin-bottom: 1.5rem;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .icon {
            font-size: 3rem;
            text-align: center;
            margin-bottom: 1rem;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        .btn-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: 2rem;
        }
        
        .btn {
            background-color: var(--accent);
            color: var(--dark);
            border: none;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(0, 0, 0, 0.2);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-secondary {
            background-color: var(--secondary);
            color: var(--dark);
        }
        
        .btn-luggage {
            background-color: var(--luggage-primary);
            color: white;
        }
        
        .btn-women {
            background-color: var(--women-safe);
            color: white;
        }
        
        .btn-warning {
            background-color: var(--warning);
            color: var(--dark);
        }
        
        .btn-railway {
            background-color: var(--railway-blue);
            color: white;
        }
        
        .btn-ai {
            background-color: var(--ai-assistant);
            color: white;
        }
        
        .btn-premium {
            background-color: var(--premium-gold);
            color: var(--dark);
            animation: pulse-gold 2s infinite;
        }
        
        @keyframes pulse-gold {
            0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 215, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
        }
        
        .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
            position: relative;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .form-control {
            width: 100%;
            padding: 0.8rem;
            border-radius: 10px;
            border: none;
            background-color:rgb(255, 255, 255, 0.2);
            color : rgb(97, 97, 229);
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .form-control:focus {
            outline: none;
            background-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 0 0 2px var(--accent);
        }
        
        .form-control::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        
        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }
        
        select.form-control {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 0.8rem center;
            background-size: 1rem;
        }
        
        .rating-container, .status-container {
            display: flex;
            justify-content: space-between;
            margin: 1.5rem 0;
            flex-wrap: wrap;
        }
        
        .rating-option, .status-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 1rem;
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            width: 48%;
            margin-bottom: 1rem;
        }
        
        .rating-option:hover, .status-option:hover {
            transform: scale(1.05);
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .rating-emoji, .status-emoji {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }
        
        .status-emoji {
            font-size: 2.5rem;
        }
        
        .rating-option input[type="radio"], .status-option input[type="radio"] {
            display: none;
        }
        
        .rating-option input[type="radio"]:checked + .rating-emoji,
        .status-option input[type="radio"]:checked + .status-emoji {
            transform: scale(1.3);
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }
        
        .rating-option input[type="radio"]:checked ~ span:last-child,
        .status-option input[type="radio"]:checked ~ .status-label {
            font-weight: 700;
        }
        
        .confirmation {
            text-align: center;
            padding: 2rem;
            display: none;
        }
        
        .confirmation h2 {
            margin-bottom: 1rem;
            color: var(--light);
        }
        
        .confirmation p {
            margin-bottom: 1.5rem;
        }
        
        .confirmation-icon {
            font-size: 4rem;
            color: var(--success);
            margin-bottom: 1rem;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        /* Login Container */
        .login-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.5s ease;
        }
        
        .login-form {
            width: 100%;
            max-width: 400px;
        }
        
        .login-title {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: colorChange 8s infinite alternate;
        }
        
        @keyframes colorChange {
            0% { color: #ff9a9e; }
            25% { color: #fad0c4; }
            50% { color: #a18cd1; }
            75% { color: #fbc2eb; }
            100% { color: #84fab0; }
        }
        
        .login-subtitle {
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        
        .login-input {
            position: relative;
            margin-bottom: 1.5rem;
        }
        
        .login-input i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.7);
        }
        
        .login-input input {
            width: 100%;
            padding: 12px 15px 12px 45px;
            border-radius: 50px;
            border: none;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .login-input input:focus {
            outline: none;
            background-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 0 0 2px var(--accent);
        }
        
        .login-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
        }
        
        .remember-me {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .forgot-password {
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .forgot-password:hover {
            text-decoration: underline;
        }
        
        .login-btn {
            width: 100%;
            padding: 12px;
            border-radius: 50px;
            border: none;
            background: linear-gradient(45deg, #ff9a9e, #fad0c4, #a18cd1, #fbc2eb, #84fab0);
            background-size: 400% 400%;
            animation: gradientBG 8s ease infinite;
            color: var(--dark);
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 1.5rem;
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .login-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(0, 0, 0, 0.2);
        }
        
        .login-footer {
            margin-top: 1.5rem;
            font-size: 0.9rem;
        }
        
        .login-footer a {
            color: white;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .login-footer a:hover {
            text-decoration: underline;
        }
        
        /* Women-Safe Coach Specific Styles */
        .train-map {
            width: 100%;
            height: 300px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin: 1.5rem 0;
            position: relative;
            overflow: hidden;
        }
        
        .platform {
            position: absolute;
            bottom: 20px;
            left: 0;
            width: 100%;
            height: 10px;
            background-color: rgba(255, 255, 255, 0.5);
        }
        
        .train {
            position: absolute;
            bottom: 30px;
            left: 0;
            width: 90%;
            height: 60px;
            background: linear-gradient(90deg, #2d3436, #636e72);
            margin-left: 5%;
            border-radius: 5px;
            display: flex;
        }
        
        .coach {
            flex: 1;
            height: 100%;
            border-right: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            position: relative;
        }
        
        .coach.women-safe {
            background-color: rgba(232, 67, 147, 0.3);
            box-shadow: inset 0 0 0 3px var(--women-safe);
        }
        
        .coach.women-safe::after {
            content: '‚ôÄ';
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 1.2rem;
            color: var(--women-safe);
        }
        
        .station-name {
            position: absolute;
            top: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .direction-indicator {
            position: absolute;
            top: 50px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .coach-info {
            margin-top: 1rem;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            border-radius: 10px;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .info-label {
            font-weight: 600;
        }
        
        /* Background Elements */
        .train-moving, .luggage-icon, .heart-icon, .ai-particle, .login-particle {
            position: fixed;
            font-size: 2rem;
            z-index: -1;
            opacity: 0.8;
        }
        
        .train-moving {
            bottom: -50px;
            left: 0;
            font-size: 3rem;
            animation: moveTrain 20s linear infinite;
        }
        
        .luggage-icon {
            animation: float 5s ease-in-out infinite;
        }
        
        .heart-icon {
            animation: float 6s ease-in-out infinite;
            color: var(--women-safe);
        }
        
        .ai-particle {
            font-size: 1rem;
            opacity: 0.6;
            animation: float 8s ease-in-out infinite;
        }
        
        .login-particle {
            font-size: 1.5rem;
            animation: float 7s ease-in-out infinite;
        }
        
        @keyframes moveTrain {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100vw); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        /* Container Visibility Control */
        .login-container {
            display: flex;
        }
        
        .menu-container {
            display: none;
        }
        
        .comfort-container, .luggage-container, .women-container,
        .report-container, .check-container, .women-safe-container,
        .train-info-container {
            display: none;
        }
        
        .home-btn {
            position: absolute;
            top: 15px;
            left: 20px;
            background-color: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            z-index: 10;
        }
        
        .home-btn:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: translateX(-3px);
        }
        
        .results-container {
            margin-top: 2rem;
            display: none;
            text-align: left;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 1rem;
            border-radius: 10px;
        }
        
        .report-item {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        /* Chatbot Styles */
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            max-height: 500px;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transform: translateY(100%);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .chatbot-container.open {
            transform: translateY(0);
            opacity: 1;
        }
        
        .chatbot-header {
            background-color: var(--railway-blue);
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        
        .chatbot-title {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .chatbot-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }
        
        .chatbot-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background-color: #f5f5f5;
        }
        
        .message {
            margin-bottom: 10px;
            display: flex;
            flex-direction: column;
        }
        
        .message-bot {
            align-items: flex-start;
        }
        
        .message-user {
            align-items: flex-end;
        }
        
        .message-content {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 18px;
            margin-top: 5px;
            line-height: 1.4;
        }
        
        .bot-message {
            background-color: white;
            color: #333;
            border: 1px solid #ddd;
        }
        
        .user-message {
            background-color: var(--railway-blue);
            color: white;
        }
        
        .chatbot-input {
            display: flex;
            padding: 10px;
            border-top: 1px solid #ddd;
            background-color: white;
        }
        
        .chatbot-input input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
        }
        
        .chatbot-input button {
            background-color: var(--railway-blue);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-left: 10px;
            cursor: pointer;
        }
        
        .chatbot-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: var(--railway-blue);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            z-index: 999;
            transition: all 0.3s ease;
        }
        
        .chatbot-toggle:hover {
            transform: scale(1.1);
        }
        
        .chatbot-toggle i {
            font-size: 1.5rem;
        }
        
        /* Train Information Container */
        .train-info-card {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            text-align: left;
        }
        
        .train-info-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }
        
        .train-number {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .train-status {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .status-on-time {
            background-color: rgba(0, 184, 148, 0.3);
            color: var(--light);
        }
        
        .status-delayed {
            background-color: rgba(253, 203, 110, 0.3);
            color: var(--light);
        }
        
        .status-cancelled {
            background-color: rgba(214, 48, 49, 0.3);
            color: var(--light);
        }
        
        .train-route {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 1rem 0;
        }
        
        .route-arrow {
            font-size: 1.5rem;
            opacity: 0.7;
        }
        
        .route-station {
            flex: 1;
            text-align: center;
        }
        
        .station-time {
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .station-name {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .train-details {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
            font-size: 0.9rem;
        }
        
        .detail-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        /* Autocomplete dropdown */
        .autocomplete {
            position: relative;
        }
        
        .autocomplete-items {
            position: absolute;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-bottom: none;
            border-top: none;
            z-index: 99;
            top: 100%;
            left: 0;
            right: 0;
            max-height: 200px;
            overflow-y: auto;
            background-color: rgba(45, 52, 54, 0.9);
            border-radius: 0 0 10px 10px;
        }
        
        .autocomplete-items div {
            padding: 10px;
            cursor: pointer;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .autocomplete-items div:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .autocomplete-active {
            background-color: var(--primary) !important;
            color: white;
        }
        
        /* Loading spinner */
        .spinner {
            width: 40px;
            height: 40px;
            margin: 1rem auto;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid var(--light);
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Header with profile and premium buttons */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            background-color: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .header-buttons {
            display: flex;
            gap: 10px;
        }
        
        .profile-btn {
            background-color: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            cursor: pointer;
            margin-left: 670%;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .profile-btn:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }
        
        .profile-btn i {
            font-size: 1rem;
        }
        
        .profile-dropdown {
            position: absolute;
            top: 60px;
            right: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            width: 200px;
            overflow: hidden;
            display: none;
            z-index: 1001;
        }
        
        .profile-dropdown.show {
            display: block;
        }
        
        .dropdown-item {
            padding: 12px 15px;
            color: var(--dark);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }
        
        .dropdown-item:hover {
            background-color: #f5f5f5;
        }
        
        .dropdown-item i {
            width: 20px;
            text-align: center;
        }
        
        .dropdown-divider {
            height: 1px;
            background-color: #eee;
            margin: 5px 0;
        }
        
        .subscription-btn {
            background-color: var(--premium-gold);
            color: var(--dark);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        .subscription-btn:hover {
            background-color: #ffcc00;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        /* Subscription modal */
        .subscription-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1001;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .subscription-modal.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .subscription-content {
            background-color: white;
            border-radius: 15px;
            max-width: 1000%;
            padding: 2rem;
            position: relative;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }
        
        .subscription-modal.active .subscription-content {
            transform: translateY(0);
        }
        
        .subscription-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark);
        }
        
        .subscription-title {
            text-align: center;
            margin-bottom: 1.5rem;
            color: var(--dark);
        }
        
        .subscription-plans {
            display: inline-flex;
            width:100%;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .subscription-plan {
            background-color: #4242c3;
            border-radius: 10px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            border: 2px solid #ddd;
            flex: 1;
        }
        
        .subscription-plan:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .subscription-plan.premium {
            border-color: var(--premium-gold);
            color: #5e7589;
            background: linear-gradient(135deg, #fff8e1, #ffecb3);
            animation: pulse-gold 2s infinite;
        }
        
        .subscription-plan.family {
            border-color: #e84393;
            background: linear-gradient(135deg, #ffcce0, #ffb8d9);
            animation: pulse-pink 2s infinite;
        }
        
        @keyframes pulse-pink {
            0% { box-shadow: 0 0 0 0 rgba(232, 67, 147, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(232, 67, 147, 0); }
            100% { box-shadow: 0 0 0 0 rgba(232, 67, 147, 0); }
        }
        
        .plan-name {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }
        
        .plan-price {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--dark);
        }
        
        .plan-features {
            list-style: none;
            padding: 0;
            margin-bottom: 1.5rem;
        }
        
        .plan-features li {
            padding: 0.3rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .plan-features li i {
            color: var(--success);
        }
        
        .plan-button {
            width: 100%;
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .plan-button.free {
            background-color: var(--secondary);
            color: var(--dark);
        }
        
        .plan-button.premium {
            background-color: var(--premium-gold);
            color: var(--dark);
        }
        
        .plan-button.family {
            background-color: var(--women-safe);
            color: white;
        }
        
        .plan-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
        }
        
        /* Premium Features Section */
        .premium-features {
            margin-top: 1rem;
            padding: 1.5rem;
            display:inline-flex;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
        }
        .premium-features h3{
            font-size: xx-large;
            font-style: italic;
        }
        
        .feature-item {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            margin-left:1rem;
            padding: 1rem;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .feature-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .feature-icon {
            width: 50px;
            height: 50px;
            background-color: var(--premium-gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-size: 1.5rem;
            color: var(--dark);
        }
        
        .feature-content h3 {
            margin-bottom: 0.3rem;
            color: var(--dark);
        }
        
        .feature-content p {
            font-size: 0.9rem;
            color: #666;
        }
        
        /* AI typing indicator */
        .ai-typing {
            display: inline-block;
        }
        
        .ai-typing span {
            height: 8px;
            width: 8px;
            background-color: var(--railway-blue);
            border-radius: 50%;
            display: inline-block;
            margin: 0 2px;
            animation: bounce 1.5s infinite ease-in-out;
        }
        
        .ai-typing span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .ai-typing span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        /* Voice command button */
        .voice-btn {
            background-color: var(--railway-red);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-left: 10px;
        }
        
        .voice-btn:hover {
            transform: scale(1.1);
        }
        
        .voice-btn.listening {
            animation: pulse 1.5s infinite;
            background-color: var(--success);
        }
        
        /* Responsive styles */
        @media (max-width: 768px) {
            .container {
                padding: 1.5rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .rating-option, .status-option {
                width: 100%;
            }
            
            .coach {
                width: 25%;
                font-size: 0.8rem;
            }
            
            .chatbot-container {
                width: 90%;
                right: 5%;
                bottom: 80px;
            }
            
            .train-route {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .route-arrow {
                transform: rotate(90deg);
            }
            
            .subscription-content {
                padding: 1.5rem;
            }
            
            .subscription-plans {
                flex-direction: column;
            }
            
            .login-title {
                font-size: 2rem;
            }
            
            .login-form {
                max-width: 100%;
            }
            
            .header {
                padding: 10px 15px;
            }
            
            .profile-btn, .subscription-btn {
                padding: 0.5rem;
                font-size: 0.9rem;
            }
            
            .profile-dropdown {
                width: 180px;
                right: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Header with profile and premium buttons -->
    <div class="header" id="header" style="display: none;">
        <button class="home-btn" id="homeBtn">
            <span>‚Üê</span> Home
        </button>
        
        <div class="header-buttons">
            <button class="profile-btn" id="profileBtn">
                <i class="fas fa-user"></i> Profile
            </button>
            <button class="subscription-btn" id="subscriptionBtn">
                <i class="fas fa-crown"></i> Premium
            </button>
            
            <div class="profile-dropdown" id="profileDropdown">
                <a href="#" class="dropdown-item">
                    <i class="fas fa-user-circle"></i> My Profile
                </a>
                <a href="#" class="dropdown-item">
                    <i class="fas fa-ticket-alt"></i> My Bookings
                </a>
                <a href="#" class="dropdown-item">
                    <i class="fas fa-bell"></i> Notifications
                </a>
                <a href="#" class="dropdown-item">
                    <i class="fas fa-cog"></i> Settings
                </a>
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </div>
        </div>
    </div>
    
    <!-- Animated background elements -->
    <div class="train-moving">üöÑ</div>
    <div class="luggage-icon" style="top: 10%; left: 5%;">üß≥</div>
    <div class="luggage-icon" style="top: 20%; right: 8%; animation-delay: 0.5s;">üéí</div>
    <div class="heart-icon" style="top: 70%; left: 15%; animation-delay: 1s;">üíñ</div>
    <div class="heart-icon" style="bottom: 15%; right: 10%; animation-delay: 1.5s;">üíó</div>
    <div class="ai-particle" style="top: 30%; left: 10%; animation-delay: 0.3s;">ü§ñ</div>
    <div class="ai-particle" style="top: 60%; right: 15%; animation-delay: 0.7s;">üí°</div>
    <div class="login-particle" style="top: 40%; left: 20%; animation-delay: 0.2s;">üöÜ</div>
    <div class="login-particle" style="top: 20%; right: 20%; animation-delay: 0.4s;">üé´</div>
    <div class="login-particle" style="top: 80%; left: 25%; animation-delay: 0.6s;">üõ§Ô∏è</div>
    
    <!-- Login Container -->
    <div class="container login-container" id="loginContainer">
        <div class="icon">üöÜ</div>
        <h1 class="login-title">Welcome to Indian Railways</h1>
        <p class="login-subtitle">Sign in to access comfort and safety features</p>
        
        <form class="login-form" id="loginForm">
            <div class="login-input">
                <i class="fas fa-user"></i>
                <input type="text" id="username" placeholder="Full Name" required>
            </div>
            
            <div class="login-input">
                <i class="fas fa-envelope"></i>
                <input type="email" id="email" placeholder="Email Address" required>
            </div>
            
            <div class="login-input">
                <i class="fas fa-lock"></i>
                <input type="password" id="password" placeholder="Password" required>
            </div>
            
            <div class="login-options">
                <label class="remember-me">
                    <input type="checkbox" id="rememberMe">
                    <span>Remember me</span>
                </label>
                <a href="#" class="forgot-password">Forgot password?</a>
            </div>
            
            <button type="submit" class="login-btn">
                <i class="fas fa-sign-in-alt"></i> Sign In
            </button>
            
            <div class="login-footer">
                Don't have an account? <a href="#" id="signUpLink">Sign up</a>
            </div>
            
            <button type="button" class="btn btn-premium" id="premiumBtnLogin" style="margin-top: 1.5rem;">
                <i class="fas fa-crown"></i> Explore Premium Features
            </button>
        </form>
    </div>
    
    <!-- Subscription Modal -->
    <div class="subscription-modal" id="subscriptionModal">
        <div class="subscription-content">
            <button class="subscription-close" id="subscriptionClose">&times;</button>
            <h2 class="subscription-title">Choose Your Plan</h2>
            
            <div class="subscription-plans">
                <div class="subscription-plan">
                    <h3 class="plan-name">Free Plan</h3>
                    <div class="plan-price">‚Çπ0/month</div>
                    <ul class="plan-features">
                        <li><i class="fas fa-check"></i> Basic coach comfort ratings</li>
                        <li><i class="fas fa-check"></i> Luggage space reports</li>
                        <li><i class="fas fa-check"></i> Women-safe coach locator</li>
                        <li><i class="fas fa-check"></i> Basic train information</li>
                        <li><i class="fas fa-check"></i> Limited AI assistance</li>
                    </ul>
                    <button class="plan-button free" disabled>Current Plan</button>
                </div>
                
                <div class="subscription-plan premium">
                    <h3 class="plan-name">Premium Plan</h3>
                    <div class="plan-price">‚Çπ199/month</div>
                    <ul class="plan-features">
                        <li><i class="fas fa-check"></i> All free features</li>
                        <li><i class="fas fa-check"></i> Real-time train tracking</li>
                        <li><i class="fas fa-check"></i> Advanced AI travel assistant</li>
                        <li><i class="fas fa-check"></i> Priority customer support</li>
                        <li><i class="fas fa-check"></i> Personalized travel alerts</li>
                        <li><i class="fas fa-check"></i> Ad-free experience</li>
                    </ul>
                    <button class="plan-button premium">Upgrade Now</button>
                </div>
                
                <div class="subscription-plan family">
                    <h3 class="plan-name">Family Plan</h3>
                    <div class="plan-price">‚Çπ499/month</div>
                    <ul class="plan-features">
                        <li><i class="fas fa-check"></i> All premium features</li>
                        <li><i class="fas fa-check"></i> Up to 5 family members</li>
                        <li><i class="fas fa-check"></i> Shared luggage tracking</li>
                        <li><i class="fas fa-check"></i> Group travel planning</li>
                        <li><i class="fas fa-check"></i> 24/7 VIP support</li>
                    </ul>
                    <button class="plan-button family">Choose Family Plan</button>
                </div>
            </div>
            
            <div class="premium-features">
                <h3 style="text-align: center; margin-bottom: 1.5rem; color: var(--dark);">Premium Features -->></h3>
                
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-train"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Real-time Tracking</h3>
                        <p>Get live updates on train location, speed, and estimated arrival times</p>
                    </div>
                </div>
                
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="feature-content">
                        <h3>AI Travel Assistant</h3>
                        <p>24/7 personalized assistance for all your railway queries</p>
                    </div>
                </div>
                
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-bell"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Smart Alerts</h3>
                        <p>Custom notifications for delays, platform changes, and more</p>
                    </div>
                </div>
                
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <div class="feature-content">
                        <h3>Priority Support</h3>
                        <p>Dedicated customer service for premium members</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Main Menu Container -->
    <div class="container menu-container" id="mainMenu">
        <div class="icon">üöÜ</div>
        <h1>Indian Railway Comfort & Safety System</h1>
        <p>Enhance your train travel experience with comfort and safety features</p>
        
        <div class="btn-container">
            <button class="btn btn-primary" id="comfortBtn">
                <i class="fas fa-couch"></i> Rate Coach Comfort
            </button>
            <button class="btn btn-luggage" id="luggageBtn">
                <i class="fas fa-suitcase-rolling"></i> Luggage Space Checker
            </button>
            <button class="btn btn-women" id="womenSafeBtn">
                <i class="fas fa-female"></i> Women-Safe Coach
            </button>
            <button class="btn btn-railway" id="trainInfoBtn">
                <i class="fas fa-train"></i> Train Information
            </button>
        </div>
    </div>
    
    <!-- Comfort Rating Container -->
    <div class="container comfort-container" id="comfortContainer">
        <div class="icon">üí∫</div>
        <h1>Coach Comfort Meter</h1>
        <p>Rate your experience in this train coach</p>
        
        <form id="comfortForm">
            <div class="form-group autocomplete">
                <label for="comfortTrainNumber">Train Number/Name</label>
                <input type="text" id="comfortTrainNumber" class="form-control" placeholder="Enter train number or name" required>
            </div>
            
            <div class="form-group">
                <label for="comfortCoachNumber">Coach Number</label>
                <input type="text" id="comfortCoachNumber" class="form-control" placeholder="Enter coach number (e.g., B3)" required>
            </div>
            
            <div class="form-group">
                <label>Cleanliness</label>
                <div class="rating-container">
                    <label class="rating-option">
                        <input type="radio" name="cleanliness" value="1" required>
                        <span class="rating-emoji">üò†</span>
                        <span>Poor</span>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="cleanliness" value="2">
                        <span class="rating-emoji">üòï</span>
                        <span>Fair</span>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="cleanliness" value="3">
                        <span class="rating-emoji">üòê</span>
                        <span>Average</span>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="cleanliness" value="4">
                        <span class="rating-emoji">üôÇ</span>
                        <span>Good</span>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="cleanliness" value="5">
                        <span class="rating-emoji">üòä</span>
                        <span>Excellent</span>
                    </label>
                </div>
            </div>
            
            <div class="form-group">
                <label>Seat Comfort</label>
                <div class="rating-container">
                    <label class="rating-option">
                        <input type="radio" name="seatComfort" value="1" required>
                        <span class="rating-emoji">üò†</span>
                        <span>Poor</span>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="seatComfort" value="2">
                        <span class="rating-emoji">üòï</span>
                        <span>Fair</span>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="seatComfort" value="3">
                        <span class="rating-emoji">üòê</span>
                        <span>Average</span>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="seatComfort" value="4">
                        <span class="rating-emoji">üôÇ</span>
                        <span>Good</span>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="seatComfort" value="5">
                        <span class="rating-emoji">üòä</span>
                        <span>Excellent</span>
                    </label>
                </div>
            </div>
            
            <div class="form-group">
                <label>Noise Level</label>
                <div class="rating-container">
                    <label class="rating-option">
                        <input type="radio" name="noiseLevel" value="1" required>
                        <span class="rating-emoji">üò†</span>
                        <span>Very Loud</span>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="noiseLevel" value="2">
                        <span class="rating-emoji">üòï</span>
                        <span>Loud</span>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="noiseLevel" value="3">
                        <span class="rating-emoji">üòê</span>
                        <span>Moderate</span>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="noiseLevel" value="4">
                        <span class="rating-emoji">üôÇ</span>
                        <span>Quiet</span>
                    </label>
                    <label class="rating-option">
                        <input type="radio" name="noiseLevel" value="5">
                        <span class="rating-emoji">üòä</span>
                        <span>Very Quiet</span>
                    </label>
                </div>
            </div>
            
            <div class="form-group">
                <label for="comfortComments">Additional Comments</label>
                <textarea id="comfortComments" class="form-control" placeholder="Any other feedback about your coach experience..."></textarea>
            </div>
            
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-paper-plane"></i> Submit Rating
            </button>
        </form>
    </div>
    
    <!-- Luggage Main Menu Container -->
    <div class="container luggage-container" id="luggageContainer">
        <div class="icon">üß≥</div>
        <h1>Luggage Space Checker</h1>
        <p>Report or check luggage space availability in train coaches</p>
        
        <div class="btn-container">
            <button class="btn btn-luggage" id="reportBtn">
                <i class="fas fa-edit"></i> Report Luggage Space
            </button>
            <button class="btn btn-secondary" id="checkBtn">
                <i class="fas fa-search"></i> Check Luggage Space
            </button>
        </div>
    </div>
    
    <!-- Report Luggage Space Container -->
    <div class="container report-container" id="reportContainer">
        <div class="icon">üìù</div>
        <h1>Report Luggage Space</h1>
        <p>Help others by reporting current luggage space status in your coach</p>
        
        <form id="reportForm">
            <div class="form-group autocomplete">
                <label for="reportTrainNumber">Train Number/Name</label>
                <input type="text" id="reportTrainNumber" class="form-control" placeholder="Enter train number or name" required>
            </div>
            
            <div class="form-group">
                <label for="reportCoachNumber">Coach Number</label>
                <input type="text" id="reportCoachNumber" class="form-control" placeholder="Enter coach number (e.g., B3)" required>
            </div>
            
            <div class="form-group">
                <label>Current Luggage Space Status</label>
                <div class="status-container">
                    <label class="status-option">
                        <input type="radio" name="spaceStatus" value="free" required>
                        <span class="status-emoji">‚úÖ</span>
                        <span class="status-label">Plenty of Space</span>
                    </label>
                    <label class="status-option">
                        <input type="radio" name="spaceStatus" value="limited">
                        <span class="status-emoji">‚ö†Ô∏è</span>
                        <span class="status-label">Limited Space</span>
                    </label>
                    <label class="status-option">
                        <input type="radio" name="spaceStatus" value="full">
                        <span class="status-emoji">‚ùå</span>
                        <span class="status-label">Full</span>
                    </label>
                    <label class="status-option">
                        <input type="radio" name="spaceStatus" value="overflow">
                        <span class="status-emoji">üö®</span>
                        <span class="status-label">Overflowing</span>
                    </label>
                </div>
            </div>
            
            <div class="form-group">
                <label for="reportComments">Additional Details</label>
                <textarea id="reportComments" class="form-control" placeholder="Any details about luggage racks, floor space, etc..."></textarea>
            </div>
            
            <button type="submit" class="btn btn-luggage">
                <i class="fas fa-paper-plane"></i> Submit Report
            </button>
        </form>
    </div>
    
    <!-- Check Luggage Space Container -->
    <div class="container check-container" id="checkContainer">
        <div class="icon">üîç</div>
        <h1>Check Luggage Space</h1>
        <p>See recent reports about luggage space availability</p>
        
        <form id="checkForm">
            <div class="form-group autocomplete">
                <label for="checkTrainNumber">Train Number/Name</label>
                <input type="text" id="checkTrainNumber" class="form-control" placeholder="Enter train number or name" required>
            </div>
            
            <div class="form-group">
                <label for="checkCoachNumber">Coach Number (optional)</label>
                <input type="text" id="checkCoachNumber" class="form-control" placeholder="Enter specific coach number if known">
            </div>
            
            <button type="submit" class="btn btn-secondary">
                <i class="fas fa-search"></i> Check Reports
            </button>
        </form>
        
        <div id="luggageResults" class="results-container">
            <h3>Recent Reports</h3>
            <div id="reportResults">
                <!-- Reports will be displayed here -->
            </div>
        </div>
    </div>
    
    <!-- Women-Safe Coach Container -->
    <div class="container women-safe-container" id="womenSafeContainer">
        <div class="icon">üö∫</div>
        <h1>Women-Safe Coach Indicator</h1>
        <p>Find women-only coaches and their current location on platforms</p>
        
        <div class="form-group autocomplete">
            <label for="stationSelect">Select Station</label>
            <select id="stationSelect" class="form-control" required>
                <option value="">-- Select a station --</option>
                <option value="delhi">Delhi (NDLS)</option>
                <option value="mumbai">Mumbai Central (BCT)</option>
                <option value="chennai">Chennai Central (MAS)</option>
                <option value="kolkata">Howrah (HWH)</option>
                <option value="bangalore">Bengaluru (SBC)</option>
                <option value="hyderabad">Hyderabad (HYB)</option>
            </select>
        </div>
        
        <div class="form-group autocomplete">
            <label for="trainSelect">Select Train</label>
            <select id="trainSelect" class="form-control" required>
                <option value="">-- Select a train --</option>
                <option value="rajdhani">Rajdhani Express (12951)</option>
                <option value="shatabdi">Shatabdi Express (12002)</option>
                <option value="duronto">Duronto Express (12267)</option>
                <option value="garib">Garib Rath (12201)</option>
                <option value="vande">Vande Bharat (22201)</option>
                <option value="sampark">Sampark Kranti (12449)</option>
            </select>
        </div>
        
        <button class="btn btn-women" id="findCoachBtn">
            <i class="fas fa-search"></i> Find Women-Safe Coach
        </button>
        
        <div id="womenResults" class="results-container">
            <div class="train-map">
                <div class="station-name" id="stationDisplay">Delhi (NDLS)</div>
                <div class="direction-indicator" id="directionDisplay">Platform 3 (Towards Mumbai)</div>
                <div class="platform"></div>
                <div class="train" id="trainDisplay">
                    <!-- Coaches will be added dynamically -->
                </div>
            </div>
            
            <div class="coach-info">
                <div class="info-item">
                    <span class="info-label">Women-Safe Coach:</span>
                    <span class="info-value" id="womenCoachNumber">B2</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Location on Platform:</span>
                    <span class="info-value" id="coachLocation">Near staircase 3</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Next Arrival:</span>
                    <span class="info-value" id="nextArrival">12:45 PM (5 mins)</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Train Direction:</span>
                    <span class="info-value" id="trainDirection">Southbound</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Train Information Container -->
    <div class="container train-info-container" id="trainInfoContainer">
        <div class="icon">‚ÑπÔ∏è</div>
        <h1>Train Information</h1>
        <p>Get real-time information about your train</p>
        
        <div class="form-group autocomplete">
            <label for="trainSearch">Search Train by Number or Name</label>
            <input type="text" id="trainSearch" class="form-control" placeholder="Enter train number or name" required>
        </div>
        
        <button class="btn btn-railway" id="searchTrainBtn">
            <i class="fas fa-search"></i> Search Train
        </button>
        
        <div id="trainInfoResults" class="results-container">
            <div id="trainInfoContent">
                <!-- Train information will be displayed here -->
            </div>
        </div>
    </div>
    
    <!-- Confirmation Container -->
    <div class="container confirmation" id="confirmation">
        <div class="confirmation-icon">‚úì</div>
        <h2>Thank You!</h2>
        <p id="confirmationMessage">Your submission has been received.</p>
        <p>Your contribution helps improve travel for everyone.</p>
        <button class="btn btn-primary" id="newSubmission">
            <i class="fas fa-plus"></i> Make Another Submission
        </button>
    </div>
    
    <!-- Chatbot Toggle Button -->
    <div class="chatbot-toggle" id="chatbotToggle">
        <i class="fas fa-robot"></i>
    </div>
    
    <!-- Chatbot Container -->
    <div class="chatbot-container" id="chatbotContainer">
        <div class="chatbot-header">
            <div class="chatbot-title">Railway AI Assistant</div>
            <button class="chatbot-close" id="chatbotClose">&times;</button>
        </div>
        <div class="chatbot-messages" id="chatbotMessages">
            <!-- Messages will be added here -->
        </div>
        <div class="chatbot-input">
            <input type="text" id="chatbotInput" placeholder="Ask about trains, stations, etc...">
            <button id="chatbotSend"><i class="fas fa-paper-plane"></i></button>
            <button class="voice-btn" id="voiceBtn">
                <i class="fas fa-microphone"></i>
            </button>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const loginContainer = document.getElementById('loginContainer');
            const mainMenu = document.getElementById('mainMenu');
            const comfortContainer = document.getElementById('comfortContainer');
            const luggageContainer = document.getElementById('luggageContainer');
            const reportContainer = document.getElementById('reportContainer');
            const checkContainer = document.getElementById('checkContainer');
            const womenSafeContainer = document.getElementById('womenSafeContainer');
            const trainInfoContainer = document.getElementById('trainInfoContainer');
            const confirmation = document.getElementById('confirmation');
          //  const homeBtn = document.getElementById('homeBtn');
            const confirmationMessage = document.getElementById('confirmationMessage');
            const header = document.getElementById('header');
            const profileBtn = document.getElementById('profileBtn');
            const profileDropdown = document.getElementById('profileDropdown');
            const subscriptionBtn = document.getElementById('subscriptionBtn');
            const premiumBtnLogin = document.getElementById('premiumBtnLogin');
            
            // Login form elements
            const loginForm = document.getElementById('loginForm');
            const signUpLink = document.getElementById('signUpLink');
            
            // Buttons
            const comfortBtn = document.getElementById('comfortBtn');
            const luggageBtn = document.getElementById('luggageBtn');
            const womenSafeBtn = document.getElementById('womenSafeBtn');
            const trainInfoBtn = document.getElementById('trainInfoBtn');
            const reportBtn = document.getElementById('reportBtn');
            const checkBtn = document.getElementById('checkBtn');
            const homeBtn = document.getElementById('homeBtn');
            const findCoachBtn = document.getElementById('findCoachBtn');
            const searchTrainBtn = document.getElementById('searchTrainBtn');
            const newSubmissionBtn = document.getElementById('newSubmission');
            const logoutBtn = document.getElementById('logoutBtn');
            
            // Subscription elements
            const subscriptionModal = document.getElementById('subscriptionModal');
            const subscriptionClose = document.getElementById('subscriptionClose');
            
            // Forms
            const comfortForm = document.getElementById('comfortForm');
            const reportForm = document.getElementById('reportForm');
            const checkForm = document.getElementById('checkForm');
            
            // Results containers
            const luggageResults = document.getElementById('luggageResults');
            const reportResults = document.getElementById('reportResults');
            const womenResults = document.getElementById('womenResults');
            const trainInfoResults = document.getElementById('trainInfoResults');
            const trainInfoContent = document.getElementById('trainInfoContent');
            const trainDisplay = document.getElementById('trainDisplay');
            const stationDisplay = document.getElementById('stationDisplay');
            const directionDisplay = document.getElementById('directionDisplay');
            const womenCoachNumber = document.getElementById('womenCoachNumber');
            const coachLocation = document.getElementById('coachLocation');
            const nextArrival = document.getElementById('nextArrival');
            const stationSelect = document.getElementById('stationSelect');
            const trainSelect = document.getElementById('trainSelect');
            const trainSearch = document.getElementById('trainSearch');
            
            // Chatbot elements
            const chatbotToggle = document.getElementById('chatbotToggle');
            const chatbotContainer = document.getElementById('chatbotContainer');
            const chatbotClose = document.getElementById('chatbotClose');
            const chatbotMessages = document.getElementById('chatbotMessages');
            const chatbotInput = document.getElementById('chatbotInput');
            const chatbotSend = document.getElementById('chatbotSend');
            const voiceBtn = document.getElementById('voiceBtn');
            
            // Sample data with real Indian railway information
            const womenSafeCoachData = {
                "rajdhani": {
                    coach: "B2",
                    location: "Middle of the train",
                    platformLocation: "Near staircase 3",
                    direction: "Southbound",
                    platform: 3,
                    coaches: ["A1", "A2", "B1", "B2", "B3", "C1", "C2"]
                },
                "shatabdi": {
                    coach: "C1",
                    location: "Front of the train",
                    platformLocation: "Near ticket counter",
                    direction: "Northbound",
                    platform: 1,
                    coaches: ["A1", "A2", "B1", "B2", "C1", "C2"]
                },
                "duronto": {
                    coach: "A3",
                    location: "Rear of the train",
                    platformLocation: "Near escalator",
                    direction: "Eastbound",
                    platform: 2,
                    coaches: ["A1", "A2", "A3", "B1", "B2", "B3", "C1", "C2", "C3"]
                },
                "garib": {
                    coach: "D1",
                    location: "Middle-front of the train",
                    platformLocation: "Near information desk",
                    direction: "Westbound",
                    platform: 4,
                    coaches: ["A1", "A2", "B1", "B2", "C1", "C2", "D1", "D2"]
                },
                "vande": {
                    coach: "A2",
                    location: "Front section",
                    platformLocation: "Near platform entrance",
                    direction: "Southbound",
                    platform: 2,
                    coaches: ["A1", "A2", "A3", "B1", "B2", "B3"]
                },
                "sampark": {
                    coach: "B3",
                    location: "Middle-rear of the train",
                    platformLocation: "Near waiting hall",
                    direction: "Northbound",
                    platform: 5,
                    coaches: ["A1", "A2", "A3", "B1", "B2", "B3", "C1", "C2", "C3"]
                }
            };
            
            const stationData = {
                "delhi": {
                    name: "New Delhi (NDLS)",
                    platforms: 16,
                    info: "New Delhi Railway Station is the main railway station in Delhi and one of the busiest in India."
                },
                "mumbai": {
                    name: "Mumbai Central (BCT)",
                    platforms: 7,
                    info: "Mumbai Central is a major railway terminus in Mumbai, serving long-distance trains."
                },
                "chennai": {
                    name: "Chennai Central (MAS)",
                    platforms: 12,
                    info: "Chennai Central is the main railway terminus in Chennai, serving trains to all parts of India."
                },
                "kolkata": {
                    name: "Howrah (HWH)",
                    platforms: 23,
                    info: "Howrah Station is the largest and oldest railway station in Kolkata with 23 platforms."
                },
                "bangalore": {
                    name: "Bengaluru (SBC)",
                    platforms: 10,
                    info: "Krantivira Sangolli Rayanna (Bengaluru Station) is the main railway station in Bengaluru."
                },
                "hyderabad": {
                    name: "Hyderabad (HYB)",
                    platforms: 10,
                    info: "Hyderabad Deccan Station is the main railway station serving Hyderabad city."
                }
            };
            
            const trainInfoData = {
                "12951": {
                    name: "Rajdhani Express (12951)",
                    route: "Mumbai Central (BCT) to New Delhi (NDLS)",
                    duration: "15h 35m",
                    classes: "1A, 2A, 3A, SL",
                    departure: "17:00",
                    arrival: "08:35 (+1 day)",
                    womenCoach: "B2",
                    status: "on-time",
                    delay: "0",
                    lastUpdated: "5 minutes ago"
                },
                "12002": {
                    name: "Shatabdi Express (12002)",
                    route: "New Delhi (NDLS) to Bhopal (BPL)",
                    duration: "8h 15m",
                    classes: "CC, EC",
                    departure: "06:00",
                    arrival: "14:15",
                    womenCoach: "C1",
                    status: "delayed",
                    delay: "45 minutes",
                    lastUpdated: "15 minutes ago"
                },
                "12267": {
                    name: "Duronto Express (12267)",
                    route: "Howrah (HWH) to Bengaluru (SBC)",
                    duration: "33h 30m",
                    classes: "1A, 2A, 3A, SL",
                    departure: "20:50",
                    arrival: "06:20 (+2 days)",
                    womenCoach: "A3",
                    status: "on-time",
                    delay: "0",
                    lastUpdated: "10 minutes ago"
                },
                "12201": {
                    name: "Garib Rath (12201)",
                    route: "Mumbai (LTT) to Kochuveli (KCVL)",
                    duration: "24h 45m",
                    classes: "3A",
                    departure: "12:30",
                    arrival: "13:15 (+1 day)",
                    womenCoach: "D1",
                    status: "cancelled",
                    delay: "N/A",
                    lastUpdated: "2 hours ago"
                },
                "22201": {
                    name: "Vande Bharat (22201)",
                    route: "New Delhi (NDLS) to Varanasi (BSB)",
                    duration: "8h 0m",
                    classes: "CC",
                    departure: "06:00",
                    arrival: "14:00",
                    womenCoach: "A2",
                    status: "on-time",
                    delay: "0",
                    lastUpdated: "30 minutes ago"
                },
                "12449": {
                    name: "Sampark Kranti (12449)",
                    route: "Hazrat Nizamuddin (NZM) to Thiruvananthapuram (TVC)",
                    duration: "47h 30m",
                    classes: "2A, 3A, SL",
                    departure: "11:20",
                    arrival: "10:50 (+2 days)",
                    womenCoach: "B3",
                    status: "delayed",
                    delay: "1 hour 15 minutes",
                    lastUpdated: "45 minutes ago"
                }
            };
            
            const directions = {
                "Southbound": "Towards Mumbai/Chennai/Bengaluru",
                "Northbound": "Towards Delhi/Amritsar/Chandigarh",
                "Eastbound": "Towards Kolkata/Guwahati",
                "Westbound": "Towards Mumbai/Ahmedabad"
            };
            
            // Train autocomplete data
            const trainAutocompleteData = [
                "Rajdhani Express (12951)",
                "Shatabdi Express (12002)",
                "Duronto Express (12267)",
                "Garib Rath (12201)",
                "Vande Bharat (22201)",
                "Sampark Kranti (12449)",
                "Shatabdi Express (12001)",
                "Rajdhani Express (12952)",
                "Duronto Express (12268)",
                "Garib Rath (12202)",
                "Vande Bharat (22202)",
                "Sampark Kranti (12450)"
            ];
            
            // Station autocomplete data
            const stationAutocompleteData = [
                "New Delhi (NDLS)",
                "Mumbai Central (BCT)",
                "Chennai Central (MAS)",
                "Howrah (HWH)",
                "Bengaluru (SBC)",
                "Hyderabad (HYB)",
                "Secunderabad (SC)",
                "Ahmedabad (ADI)",
                "Pune (PUNE)",
                "Jaipur (JP)",
                "Lucknow (LKO)",
                "Patna (PNBE)"
            ];
            
            // Navigation functions
            function showLogin() {
                loginContainer.style.display = 'flex';
                mainMenu.style.display = 'none';
                comfortContainer.style.display = 'none';
                luggageContainer.style.display = 'none';
                reportContainer.style.display = 'none';
                checkContainer.style.display = 'none';
                womenSafeContainer.style.display = 'none';
                trainInfoContainer.style.display = 'none';
                confirmation.style.display = 'none';
                header.style.display = 'none';
                luggageResults.style.display = 'none';
                womenResults.style.display = 'none';
                trainInfoResults.style.display = 'none';
            }
            
            function showMainMenu() {
                loginContainer.style.display = 'none';
                mainMenu.style.display = 'block';
                comfortContainer.style.display = 'none';
                luggageContainer.style.display = 'none';
                reportContainer.style.display = 'none';
                checkContainer.style.display = 'none';
                womenSafeContainer.style.display = 'none';
                trainInfoContainer.style.display = 'none';
                confirmation.style.display = 'none';
                header.style.display = 'flex';
                luggageResults.style.display = 'none';
                womenResults.style.display = 'none';
                trainInfoResults.style.display = 'none';
            }
            
            function showComfortForm() {
                loginContainer.style.display = 'none';
                mainMenu.style.display = 'none';
                comfortContainer.style.display = 'block';
                luggageContainer.style.display = 'none';
                reportContainer.style.display = 'none';
                checkContainer.style.display = 'none';
                womenSafeContainer.style.display = 'none';
                trainInfoContainer.style.display = 'none';
                confirmation.style.display = 'none';
                header.style.display = 'flex';
            }
            
            function showLuggageMenu() {
                loginContainer.style.display = 'none';
                mainMenu.style.display = 'none';
                comfortContainer.style.display = 'none';
                luggageContainer.style.display = 'block';
                reportContainer.style.display = 'none';
                checkContainer.style.display = 'none';
                womenSafeContainer.style.display = 'none';
                trainInfoContainer.style.display = 'none';
                confirmation.style.display = 'none';
                header.style.display = 'flex';
            }
            
            function showReportForm() {
                loginContainer.style.display = 'none';
                mainMenu.style.display = 'none';
                comfortContainer.style.display = 'none';
                luggageContainer.style.display = 'none';
                reportContainer.style.display = 'block';
                checkContainer.style.display = 'none';
                womenSafeContainer.style.display = 'none';
                trainInfoContainer.style.display = 'none';
                confirmation.style.display = 'none';
                header.style.display = 'flex';
            }
            
            function showCheckForm() {
                loginContainer.style.display = 'none';
                mainMenu.style.display = 'none';
                comfortContainer.style.display = 'none';
                luggageContainer.style.display = 'none';
                reportContainer.style.display = 'none';
                checkContainer.style.display = 'block';
                womenSafeContainer.style.display = 'none';
                trainInfoContainer.style.display = 'none';
                confirmation.style.display = 'none';
                header.style.display = 'flex';
                luggageResults.style.display = 'none';
            }
            
            function showWomenSafe() {
                loginContainer.style.display = 'none';
                mainMenu.style.display = 'none';
                comfortContainer.style.display = 'none';
                luggageContainer.style.display = 'none';
                reportContainer.style.display = 'none';
                checkContainer.style.display = 'none';
                womenSafeContainer.style.display = 'block';
                trainInfoContainer.style.display = 'none';
                confirmation.style.display = 'none';
                header.style.display = 'flex';
                womenResults.style.display = 'none';
            }
            
            function showTrainInfo() {
                loginContainer.style.display = 'none';
                mainMenu.style.display = 'none';
                comfortContainer.style.display = 'none';
                luggageContainer.style.display = 'none';
                reportContainer.style.display = 'none';
                checkContainer.style.display = 'none';
                womenSafeContainer.style.display = 'none';
                trainInfoContainer.style.display = 'block';
                confirmation.style.display = 'none';
                header.style.display = 'flex';
                trainInfoResults.style.display = 'none';
            }
            
            function showConfirmation(message) {
                loginContainer.style.display = 'none';
                mainMenu.style.display = 'none';
                comfortContainer.style.display = 'none';
                luggageContainer.style.display = 'none';
                reportContainer.style.display = 'none';
                checkContainer.style.display = 'none';
                womenSafeContainer.style.display = 'none';
                trainInfoContainer.style.display = 'none';
                confirmation.style.display = 'block';
                header.style.display = 'flex';
                confirmationMessage.textContent = message;
                
                // Confetti effect
                for (let i = 0; i < 50; i++) {
                    createConfetti();
                }
            }
            
            // Event listeners
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get form values
                const username = document.getElementById('username').value;
                const email = document.getElementById('email').value;
                const password = document.getElementById('password').value;
                const rememberMe = document.getElementById('rememberMe').checked;
                
                // In a real app, validate and send to server
                console.log({
                    username,
                    email,
                    password,
                    rememberMe
                });
                
                // Show main menu after login
                showMainMenu();
                
                // Show welcome message in chatbot
                setTimeout(() => {
                    if (chatbotMessages.children.length === 0) {
                        addBotMessage(`Welcome aboard, ${username}! I'm your Indian Railway AI Assistant. How can I help you with your journey today?`);
                    }
                }, 1000);
            });
            
            signUpLink.addEventListener('click', function(e) {
                e.preventDefault();
                alert('Sign up functionality will be implemented soon!');
            });
            
            comfortBtn.addEventListener('click', showComfortForm);
            luggageBtn.addEventListener('click', showLuggageMenu);
            womenSafeBtn.addEventListener('click', showWomenSafe);
            trainInfoBtn.addEventListener('click', showTrainInfo);
            reportBtn.addEventListener('click', showReportForm);
            checkBtn.addEventListener('click', showCheckForm);
            homeBtn.addEventListener('click', showMainMenu);
            
            // Profile dropdown toggle
            profileBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                profileDropdown.classList.toggle('show');
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function() {
                profileDropdown.classList.remove('show');
            });
            
            // Prevent dropdown from closing when clicking inside it
            profileDropdown.addEventListener('click', function(e) {
                e.stopPropagation();
            });
            
            // Logout functionality
            logoutBtn.addEventListener('click', function(e) {
                e.preventDefault();
                showLogin();
                profileDropdown.classList.remove('show');
            });
            
            // Subscription modal
            subscriptionBtn.addEventListener('click', function() {
                subscriptionModal.classList.add('active');
            });
            
            premiumBtnLogin.addEventListener('click', function() {
                subscriptionModal.classList.add('active');
            });
            
            subscriptionClose.addEventListener('click', function() {
                subscriptionModal.classList.remove('active');
            });
            
            subscriptionModal.addEventListener('click', function(e) {
                if (e.target === subscriptionModal) {
                    subscriptionModal.classList.remove('active');
                }
            });
            
            newSubmissionBtn.addEventListener('click', function() {
                if (comfortContainer.style.display === 'block') {
                    comfortForm.reset();
                    showComfortForm();
                } else if (reportContainer.style.display === 'block') {
                    reportForm.reset();
                    showReportForm();
                } else if (womenSafeContainer.style.display === 'block') {
                    stationSelect.value = '';
                    trainSelect.value = '';
                    womenResults.style.display = 'none';
                    showWomenSafe();
                } else if (trainInfoContainer.style.display === 'block') {
                    trainSearch.value = '';
                    trainInfoResults.style.display = 'none';
                    showTrainInfo();
                } else {
                    showMainMenu();
                }
            });
            
            // Form submissions
            comfortForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get form values
                const trainNumber = document.getElementById('comfortTrainNumber').value;
                const coachNumber = document.getElementById('comfortCoachNumber').value;
                const cleanliness = document.querySelector('input[name="cleanliness"]:checked').value;
                const seatComfort = document.querySelector('input[name="seatComfort"]:checked').value;
                const noiseLevel = document.querySelector('input[name="noiseLevel"]:checked').value;
                const comments = document.getElementById('comfortComments').value;
                
                // In a real app, send to server
                console.log({
                    type: "comfort_rating",
                    trainNumber,
                    coachNumber,
                    cleanliness,
                    seatComfort,
                    noiseLevel,
                    comments,
                    timestamp: new Date().toISOString()
                });
                
                showConfirmation("Your comfort rating has been submitted successfully!");
            });
            
            reportForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get form values
                const trainNumber = document.getElementById('reportTrainNumber').value;
                const coachNumber = document.getElementById('reportCoachNumber').value;
                const spaceStatus = document.querySelector('input[name="spaceStatus"]:checked').value;
                const comments = document.getElementById('reportComments').value;
                
                // In a real app, send to server
                console.log({
                    type: "luggage_report",
                    trainNumber,
                    coachNumber,
                    spaceStatus,
                    comments,
                    timestamp: new Date().toISOString()
                });
                
                showConfirmation("Your luggage report has been submitted successfully!");
            });
            
            checkForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const trainNumber = document.getElementById('checkTrainNumber').value;
                const coachNumber = document.getElementById('checkCoachNumber').value;
                
                // Filter sample reports
                const filteredReports = [
                    {
                        train: "Rajdhani Express (12951)",
                        coach: "B2",
                        status: "free",
                        statusText: "Plenty of Space",
                        comment: "Upper racks almost empty, space near doors available",
                        timestamp: "10 minutes ago"
                    },
                    {
                        train: "Rajdhani Express (12951)",
                        coach: "A1",
                        status: "limited",
                        statusText: "Limited Space",
                        comment: "Only small bags can fit now",
                        timestamp: "25 minutes ago"
                    }
                ].filter(report => {
                    return report.train.toLowerCase().includes(trainNumber.toLowerCase()) && 
                          (coachNumber === '' || report.coach.toLowerCase() === coachNumber.toLowerCase());
                });
                
                // Display results
                if (filteredReports.length > 0) {
                    reportResults.innerHTML = filteredReports.map(report => `
                        <div class="report-item">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <strong>Coach ${report.coach}</strong>
                                <span style="background-color: ${getStatusColor(report.status)}; 
                                      padding: 0.2rem 0.5rem; border-radius: 50px; font-size: 0.8rem;">
                                    ${report.statusText}
                                </span>
                            </div>
                            <div style="margin-bottom: 0.5rem;">${report.comment}</div>
                            <div style="font-size: 0.8rem; color: rgba(255,255,255,0.7);">${report.timestamp}</div>
                        </div>
                    `).join('');
                } else {
                    reportResults.innerHTML = `<div style="text-align: center; padding: 1rem;">No recent reports found for this search.</div>`;
                }
                
                luggageResults.style.display = 'block';
                luggageResults.scrollIntoView({ behavior: 'smooth' });
            });
            
            findCoachBtn.addEventListener('click', function() {
                const station = stationSelect.value;
                const train = trainSelect.value;
                
                if (!station || !train) {
                    alert("Please select both station and train");
                    return;
                }
                
                // Get data for selected train
                const trainData = womenSafeCoachData[train];
                const stationInfo = stationData[station];
                
                // Update display
                stationDisplay.textContent = stationInfo.name;
                directionDisplay.textContent = `Platform ${trainData.platform} (${directions[trainData.direction]})`;
                womenCoachNumber.textContent = trainData.coach;
                coachLocation.textContent = trainData.platformLocation;
                
                // Generate random arrival time (2-10 mins)
                const mins = Math.floor(Math.random() * 9) + 2;
                const now = new Date();
                now.setMinutes(now.getMinutes() + mins);
                const timeStr = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                nextArrival.textContent = `${timeStr} (${mins} min${mins !== 1 ? 's' : ''})`;
                
                // Generate train coaches
                trainDisplay.innerHTML = '';
                trainData.coaches.forEach(coach => {
                    const coachElement = document.createElement('div');
                    coachElement.className = 'coach';
                    coachElement.textContent = coach;
                    
                    if (coach === trainData.coach) {
                        coachElement.classList.add('women-safe');
                        coachElement.title = `Women-only coach (${trainData.location})`;
                    }
                    
                    trainDisplay.appendChild(coachElement);
                });
                
                womenResults.style.display = 'block';
                womenResults.scrollIntoView({ behavior: 'smooth' });
            });
            
            searchTrainBtn.addEventListener('click', function() {
                const searchTerm = trainSearch.value.trim();
                
                if (!searchTerm) {
                    alert("Please enter a train number or name");
                    return;
                }
                
                // Find matching train
                const trainKey = Object.keys(trainInfoData).find(key => 
                    trainInfoData[key].name.toLowerCase().includes(searchTerm.toLowerCase()) || 
                    key.includes(searchTerm)
                );
                
                if (trainKey) {
                    const train = trainInfoData[trainKey];
                    
                    // Display train information
                    trainInfoContent.innerHTML = `
                        <div class="train-info-card">
                            <div class="train-info-header">
                                <h3>${train.name}</h3>
                                <span class="train-number">${trainKey}</span>
                            </div>
                            <div class="train-status ${train.status === 'on-time' ? 'status-on-time' : 
                                train.status === 'delayed' ? 'status-delayed' : 'status-cancelled'}">
                                ${train.status === 'on-time' ? 'On Time' : 
                                 train.status === 'delayed' ? `Delayed by ${train.delay}` : 'Cancelled'}
                            </div>
                            <p style="margin: 0.5rem 0; font-size: 0.9rem; opacity: 0.8;">
                                Last updated: ${train.lastUpdated}
                            </p>
                            
                            <div class="train-route">
                                <div class="route-station">
                                    <div class="station-time">${train.departure}</div>
                                    <div class="station-name">${train.route.split(' to ')[0]}</div>
                                </div>
                                <div class="route-arrow">‚Üí</div>
                                <div class="route-station">
                                    <div class="station-time">${train.arrival}</div>
                                    <div class="station-name">${train.route.split(' to ')[1]}</div>
                                </div>
                            </div>
                            
                            <div class="train-details">
                                <div class="detail-item">
                                    <i class="fas fa-clock"></i>
                                    <span>Duration: ${train.duration}</span>
                                </div>
                                <div class="detail-item">
                                    <i class="fas fa-chair"></i>
                                    <span>Classes: ${train.classes}</span>
                                </div>
                            </div>
                            
                            <div class="train-details" style="margin-top: 0.5rem;">
                                <div class="detail-item">
                                    <i class="fas fa-female"></i>
                                    <span>Women's Coach: ${train.womenCoach}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div style="text-align: center; margin-top: 1rem;">
                            <a href="https://enquiry.indianrail.gov.in/mntes/" target="_blank" 
                               style="color: var(--light); text-decoration: underline;">
                                Check real-time status on IRCTC
                            </a>
                        </div>
                    `;
                } else {
                    trainInfoContent.innerHTML = `
                        <div style="text-align: center; padding: 2rem;">
                            <p>No train found matching "${searchTerm}"</p>
                            <p>Try searching for:</p>
                            <ul style="list-style: none; padding: 0;">
                                <li>Rajdhani Express</li>
                                <li>Shatabdi Express</li>
                                <li>12951 (Rajdhani Express number)</li>
                            </ul>
                        </div>
                    `;
                }
                
                trainInfoResults.style.display = 'block';
                trainInfoResults.scrollIntoView({ behavior: 'smooth' });
            });
            
            function getStatusColor(status) {
                switch(status) {
                    case 'free': return 'rgba(0, 184, 148, 0.7)';
                    case 'limited': return 'rgba(253, 203, 110, 0.7)';
                    case 'full': return 'rgba(225, 112, 85, 0.7)';
                    case 'overflow': return 'rgba(214, 48, 49, 0.7)';
                    default: return 'rgba(255,255,255,0.2)';
                }
            }
            
            function createConfetti() {
                const confetti = document.createElement('div');
                confetti.innerHTML = ['üß≥', 'üéí', 'üöÜ', 'üí∫', 'üíñ', '‚úÖ'][Math.floor(Math.random() * 6)];
                confetti.style.position = 'fixed';
                confetti.style.fontSize = (Math.random() * 20 + 10) + 'px';
                confetti.style.left = Math.random() * window.innerWidth + 'px';
                confetti.style.top = '-50px';
                confetti.style.opacity = Math.random() * 0.5 + 0.5;
                confetti.style.animation = `fall ${Math.random() * 3 + 2}s linear forwards`;
                
                document.body.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
            
            // Autocomplete functionality
            function autocomplete(inp, arr) {
                let currentFocus;
                
                inp.addEventListener("input", function(e) {
                    let a, b, i, val = this.value;
                    
                    closeAllLists();
                    if (!val) { return false; }
                    currentFocus = -1;
                    
                    a = document.createElement("div");
                    a.setAttribute("id", this.id + "autocomplete-list");
                    a.setAttribute("class", "autocomplete-items");
                    this.parentNode.appendChild(a);
                    
                    for (i = 0; i < arr.length; i++) {
                        if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
                            b = document.createElement("div");
                            b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
                            b.innerHTML += arr[i].substr(val.length);
                            b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
                            b.addEventListener("click", function(e) {
                                inp.value = this.getElementsByTagName("input")[0].value;
                                closeAllLists();
                            });
                            a.appendChild(b);
                        }
                    }
                });
                
                inp.addEventListener("keydown", function(e) {
                    let x = document.getElementById(this.id + "autocomplete-list");
                    if (x) x = x.getElementsByTagName("div");
                    if (e.keyCode == 40) { // Down arrow
                        currentFocus++;
                        addActive(x);
                    } else if (e.keyCode == 38) { // Up arrow
                        currentFocus--;
                        addActive(x);
                    } else if (e.keyCode == 13) { // Enter
                        e.preventDefault();
                        if (currentFocus > -1) {
                            if (x) x[currentFocus].click();
                        }
                    }
                });
                
                function addActive(x) {
                    if (!x) return false;
                    removeActive(x);
                    if (currentFocus >= x.length) currentFocus = 0;
                    if (currentFocus < 0) currentFocus = (x.length - 1);
                    x[currentFocus].classList.add("autocomplete-active");
                }
                
                function removeActive(x) {
                    for (let i = 0; i < x.length; i++) {
                        x[i].classList.remove("autocomplete-active");
                    }
                }
                
                function closeAllLists(elmnt) {
                    let x = document.getElementsByClassName("autocomplete-items");
                    for (let i = 0; i < x.length; i++) {
                        if (elmnt != x[i] && elmnt != inp) {
                            x[i].parentNode.removeChild(x[i]);
                        }
                    }
                }
                
                document.addEventListener("click", function(e) {
                    closeAllLists(e.target);
                });
            }
            
            // Initialize autocomplete
            autocomplete(document.getElementById("comfortTrainNumber"), trainAutocompleteData);
            autocomplete(document.getElementById("reportTrainNumber"), trainAutocompleteData);
            autocomplete(document.getElementById("checkTrainNumber"), trainAutocompleteData);
            autocomplete(document.getElementById("trainSearch"), trainAutocompleteData);
            
            // Chatbot functionality
            let chatbotOpen = false;
            
            chatbotToggle.addEventListener('click', function() {
                chatbotOpen = !chatbotOpen;
                if (chatbotOpen) {
                    chatbotContainer.classList.add('open');
                    chatbotInput.focus();
                    // Send welcome message if first time opening
                    if (chatbotMessages.children.length === 0) {
                        addBotMessage("Hello! I'm your Indian Railway AI Assistant. I can help with train schedules, station information, women's safety, luggage policies, and more. How can I assist you today?");
                    }
                } else {
                    chatbotContainer.classList.remove('open');
                }
            });
            
            chatbotClose.addEventListener('click', function() {
                chatbotOpen = false;
                chatbotContainer.classList.remove('open');
            });
            
            function addBotMessage(text) {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message message-bot';
                messageDiv.innerHTML = `
                    <div class="message-content bot-message">${text}</div>
                `;
                chatbotMessages.appendChild(messageDiv);
                chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            }
            
            function addUserMessage(text) {
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message message-user';
                messageDiv.innerHTML = `
                    <div class="message-content user-message">${text}</div>
                `;
                chatbotMessages.appendChild(messageDiv);
                chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            }
            
            function addTypingIndicator() {
                const typingDiv = document.createElement('div');
                typingDiv.className = 'message message-bot';
                typingDiv.innerHTML = `
                    <div class="message-content bot-message">
                        <div class="ai-typing">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                `;
                chatbotMessages.appendChild(typingDiv);
                chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
                return typingDiv;
            }
            
            function removeTypingIndicator(typingDiv) {
                typingDiv.remove();
            }
            
            function getAIResponse(question) {
                const lowerQuestion = question.toLowerCase();
                
                if (lowerQuestion.includes('status') || lowerQuestion.includes('running')) {
                    if (lowerQuestion.includes('rajdhani')) {
                        return "Rajdhani Express (12951) is currently running on time. The next departure is at 17:00 from Mumbai Central (BCT) to New Delhi (NDLS). You can check real-time status at <a href='https://enquiry.indianrail.gov.in/mntes/' target='_blank'>IRCTC Enquiry</a>.";
                    } else if (lowerQuestion.includes('shatabdi')) {
                        return "Shatabdi Express (12002) is currently delayed by approximately 45 minutes due to fog. The next departure is at 06:00 from New Delhi (NDLS) to Bhopal (BPL).";
                    } else {
                        return "For train running status, please provide the train number or name. You can also check real-time status at <a href='https://enquiry.indianrail.gov.in/mntes/' target='_blank'>IRCTC Enquiry</a>.";
                    }
                } else if (lowerQuestion.includes('women') || lowerQuestion.includes('ladies') || lowerQuestion.includes('female')) {
                    return "Women-only coaches are usually located in the middle of the train. In most long-distance trains, it's marked as 'B2' or 'C1'. You can use the Women-Safe Coach feature in this app to find the exact location at your station.";
                } else if (lowerQuestion.includes('luggage') || lowerQuestion.includes('baggage')) {
                    return "You can check luggage space availability using our Luggage Space Checker feature. Passengers report space availability in real-time. The standard luggage allowance is 70kg for 1AC, 50kg for 2AC/3AC, and 40kg for Sleeper class.";
                } else if (lowerQuestion.includes('pnr') || lowerQuestion.includes('ticket')) {
                    return "You can check your PNR status at: <a href='https://www.indianrail.gov.in/enquiry/PNR/PnrEnquiry.html?locale=en' target='_blank'>PNR Status Check</a>. Please have your 10-digit PNR number ready.";
                } else if (lowerQuestion.includes('station') || lowerQuestion.includes('platform')) {
                    return "Station information is available in our Women-Safe Coach feature. Select your station to see platform details. Most major stations have facilities like waiting rooms, food stalls, and porter services.";
                } else if (lowerQuestion.includes('food') || lowerQuestion.includes('meal')) {
                    return "Most Rajdhani, Shatabdi and Duronto trains provide complimentary meals. For other trains, you can order food through IRCTC's e-catering service at <a href='https://www.ecatering.irctc.co.in/' target='_blank'>IRCTC eCatering</a> or buy from station vendors.";
                } else if (lowerQuestion.includes('hello') || lowerQuestion.includes('hi')) {
                    return "Hello! How can I assist you with your Indian Railways journey today?";
                } else if (lowerQuestion.includes('thank')) {
                    return "You're welcome! Is there anything else I can help you with?";
                } else if (lowerQuestion.includes('delay') || lowerQuestion.includes('late')) {
                    return "Train delays can occur due to various reasons like fog, maintenance work, or operational issues. You can check real-time status of any train at <a href='https://enquiry.indianrail.gov.in/mntes/' target='_blank'>IRCTC Enquiry</a>.";
                } else if (lowerQuestion.includes('book') || lowerQuestion.includes('ticket')) {
                    return "You can book train tickets through the official IRCTC website: <a href='https://www.irctc.co.in/' target='_blank'>IRCTC</a>. For Tatkal tickets, booking opens at 10 AM for AC classes and 11 AM for non-AC classes one day before journey.";
                } else if (lowerQuestion.includes('premium') || lowerQuestion.includes('subscription')) {
                    return "Our premium subscription offers real-time train tracking, advanced AI assistance, priority support, and ad-free experience. Click the 'Premium Plans' button at the top right to see all features and pricing options.";
                } else {
                    return "I'm sorry, I didn't understand that. I can help with train schedules, station information, ticket booking, women's safety, luggage policies, and general railway information. Please try asking about one of these topics.";
                }
            }
            
            function handleUserInput() {
                const userInput = chatbotInput.value.trim();
                if (userInput === '') return;
                
                addUserMessage(userInput);
                chatbotInput.value = '';
                
                // Show typing indicator
                const typingIndicator = addTypingIndicator();
                
                // Simulate AI processing
                setTimeout(() => {
                    removeTypingIndicator(typingIndicator);
                    
                    // Get AI response
                    const response = getAIResponse(userInput);
                    addBotMessage(response);
                }, 1500);
            }
            
            // Voice command functionality
            let recognition;
            try {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = false;
                recognition.lang = 'en-IN';
                
                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    chatbotInput.value = transcript;
                    
                    // Auto-submit if question is detected
                    if (transcript.trim().length > 5) {
                        handleUserInput();
                    }
                };
                
                recognition.onerror = function(event) {
                    console.error('Speech recognition error', event.error);
                    voiceBtn.classList.remove('listening');
                    
                    // Show error in chatbot
                    const typingIndicator = addTypingIndicator();
                    
                    setTimeout(() => {
                        removeTypingIndicator(typingIndicator);
                        addBotMessage("Sorry, I couldn't understand your voice command. Please try typing your question.");
                    }, 500);
                };
                
                recognition.onend = function() {
                    voiceBtn.classList.remove('listening');
                };
                
                voiceBtn.addEventListener('click', function() {
                    if (voiceBtn.classList.contains('listening')) {
                        recognition.stop();
                        voiceBtn.classList.remove('listening');
                    } else {
                        recognition.start();
                        voiceBtn.classList.add('listening');
                    }
                });
            } catch(e) {
                console.error("Speech recognition not supported", e);
                voiceBtn.style.display = 'none';
            }
            
            chatbotSend.addEventListener('click', handleUserInput);
            
            chatbotInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    handleUserInput();
                }
            });
            
            // Add animation for confetti
            const style = document.createElement('style');
            style.innerHTML = `
                @keyframes fall {
                    to {
                        transform: translateY(${window.innerHeight + 100}px) rotate(${Math.random() * 360}deg);
                    }
                }
            `;
            document.head.appendChild(style);
            
            // Create moving background elements
            function createMovingTrain() {
                const train = document.createElement('div');
                train.className = 'train-moving';
                train.textContent = Math.random() > 0.5 ? 'üöÑ' : 'üöÇ';
                train.style.animationDuration = (15 + Math.random() * 15) + 's';
                train.style.bottom = (Math.random() * 50) + 'px';
                document.body.appendChild(train);
                
                setTimeout(() => {
                    train.remove();
                }, parseFloat(train.style.animationDuration) * 1000);
            }
            
            function createLuggageIcon() {
                const luggage = document.createElement('div');
                luggage.className = 'luggage-icon';
                luggage.textContent = ['üß≥', 'üéí', 'üëú', 'üíº'][Math.floor(Math.random() * 4)];
                luggage.style.top = (Math.random() * 80 + 5) + '%';
                luggage.style.left = (Math.random() * 90 + 5) + '%';
                luggage.style.animationDelay = (Math.random() * 2) + 's';
                document.body.appendChild(luggage);
                
                setTimeout(() => {
                    luggage.remove();
                }, 10000);
            }
            
            function createHeartIcon() {
                const heart = document.createElement('div');
                heart.className = 'heart-icon';
                heart.innerHTML = ['üíñ', 'üíó', 'üíì', 'üíï'][Math.floor(Math.random() * 4)];
                heart.style.top = (Math.random() * 80 + 5) + '%';
                heart.style.left = (Math.random() * 90 + 5) + '%';
                heart.style.animationDelay = (Math.random() * 2) + 's';
                heart.style.fontSize = (Math.random() * 1 + 1) + 'rem';
                document.body.appendChild(heart);
                
                setTimeout(() => {
                    heart.remove();
                }, 10000);
            }
            
            function createAIParticle() {
                const particle = document.createElement('div');
                particle.className = 'ai-particle';
                particle.innerHTML = ['ü§ñ', 'üí°', 'üß†', '‚ö°'][Math.floor(Math.random() * 4)];
                particle.style.top = (Math.random() * 80 + 5) + '%';
                particle.style.left = (Math.random() * 90 + 5) + '%';
                particle.style.animationDelay = (Math.random() * 2) + 's';
                particle.style.fontSize = (Math.random() * 1 + 0.5) + 'rem';
                document.body.appendChild(particle);
                
                setTimeout(() => {
                    particle.remove();
                }, 10000);
            }
            
            function createLoginParticle() {
                const particle = document.createElement('div');
                particle.className = 'login-particle';
                particle.innerHTML = ['üöÜ', 'üé´', 'üõ§Ô∏è', 'üöâ', 'üöä', 'üöû'][Math.floor(Math.random() * 6)];
                particle.style.top = (Math.random() * 80 + 5) + '%';
                particle.style.left = (Math.random() * 90 + 5) + '%';
                particle.style.animationDelay = (Math.random() * 2) + 's';
                particle.style.fontSize = (Math.random() * 1 + 1) + 'rem';
                document.body.appendChild(particle);
                
                setTimeout(() => {
                    particle.remove();
                }, 10000);
            }
            
            // Create initial background elements
            for (let i = 0; i < 3; i++) {
                setTimeout(createMovingTrain, i * 5000);
                setTimeout(createLuggageIcon, i * 3000);
                setTimeout(createHeartIcon, i * 4000);
                setTimeout(createAIParticle, i * 3500);
                setTimeout(createLoginParticle, i * 2500);
            }
            
            // Continue creating them periodically
            setInterval(createMovingTrain, 15000);
            setInterval(createLuggageIcon, 8000);
            setInterval(createHeartIcon, 10000);
            setInterval(createAIParticle, 9000);
            setInterval(createLoginParticle, 7000);
            
            // Show login page by default
            showLogin();
        });
    </script>
</body>
</html>